{"version":3,"sources":["components/Nav.js","components/SignIn.js","components/SignUp.js","views/LogReg.js","views/UserList.js","components/ApartmentForm.js","views/calendar.js","components/RepairForm.js","views/NewRepair.js","views/RepairList.js","views/UserDashboard.js","views/RepairsMaintenance.js","App.js","reportWebVitals.js","index.js"],"names":["Nav","props","logout","className","to","id","onClick","SignIn","setLoggedIn","useState","email","setEmail","password","setPassword","errorMessage","setErrorMessage","onSubmit","e","preventDefault","axios","post","withCredentials","then","res","console","log","localStorage","setItem","navigate","catch","err","response","data","msg","htmlFor","type","name","onChange","target","value","SignUp","firstName","setFirstName","lastName","setLastName","confirmPassword","setConfirmPassword","maintenance","setMaintenance","errors","setErrors","newUser","message","LogReg","UserList","users","setUsers","getLoggedInUser","get","useEffect","map","user","createdAt","_id","ApartmentForm","apartments","setApartments","setUser","selectedApartment","setSelectedApartment","availableApartments","filter","item","tenants","patch","sort","a","b","i","Calendar","url","RepairForm","repair","changeHandler","submitHandler","action","checkBoxHandler","details","location","urgency","NewRepair","setRepair","testUser","JSON","stringify","resp","currentUser","apartmentId","apartment","event","string_value","checked","toString","RepairList","repairList","setRepairList","repairs","class","status","UserDashboard","setUserApt","requestType","setRequestType","request","sortedRepairs","mergeSortArrObj","reverse","RepairsMaintenance","document","getElementById","parentNode","removeChild","fixed","App","parse","getItem","setIsLoggedIn","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3e02a505.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport { Link } from '@reach/router';\r\n\r\nconst Nav = (props) => {\r\n    const {logout} = props;\r\n    \r\n\r\n    return (\r\n        <nav className=\"navbar navbar-expand-lg navbar-primary \">\r\n            <Link className=\"btn\" to='/dashboard'>Apartment Connect</Link>\r\n            <div className=\"\" id=\"navbarNav\">\r\n                <ul className=\"navbar-nav\">\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"btn\" to=\"/calendar\">Resources Calendar</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"btn\" to=\"/connect\">Claim your Apartment</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"btn\" to=\"/newrepair\">Request Repair</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"btn\" to=\"/repairlist\">Repair List</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <button className=\"btn btn-outline-danger\" onClick={logout}>Logout</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default Nav;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { navigate } from '@reach/router';\r\n\r\nconst SignIn = ({ setLoggedIn }) => {\r\n    const [email, setEmail ] = useState('');\r\n    const [password, setPassword ] = useState('');\r\n    const [errorMessage, setErrorMessage ] = useState('');\r\n\r\n    const login = e => {\r\n        e.preventDefault();\r\n        axios.post(\"http://localhost:8000/api/login\", { email, password }, { withCredentials: true })\r\n        .then((res) =>{\r\n            console.log(\"sign in response: \", res);\r\n            localStorage.setItem(\"loggedIn\", \"true\")\r\n            setLoggedIn();\r\n            navigate('/dashboard');\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err);\r\n            setErrorMessage(err.response.data.msg);\r\n        });\r\n    };\r\n\r\n    return(\r\n        <fieldset>\r\n            <legend>Sign In</legend>\r\n\r\n            <form onSubmit={login}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email:</label>\r\n                    <input type=\"text\" name='email' onChange={(e)=> setEmail(e.target.value)} value={email} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password:</label>\r\n                    <input type=\"password\" name=\"password\" onChange={(e)=> setPassword(e.target.value)} value={password}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"submit\" value=\"Sign In\" className=\"btn btn-primary\" />\r\n                    <p className=\"error-message\">{errorMessage ? errorMessage : \"\"}</p>\r\n                </div>\r\n            </form>\r\n        </fieldset>\r\n    )\r\n}\r\n\r\nexport default SignIn;","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst SignUp = (props) => {\r\n    const {setLoggedIn} = props\r\n    const [ firstName, setFirstName ] = useState(\"\");\r\n    const [ lastName, setLastName ] = useState(\"\");\r\n    const [ email, setEmail ] = useState(\"\");\r\n    const [ password, setPassword ] = useState(\"\");\r\n    const [ confirmPassword, setConfirmPassword ] = useState(\"\");\r\n    const [ maintenance, setMaintenance ] = useState(false);\r\n    const [ errors, setErrors ] = useState(null);\r\n\r\n    const register = e => {\r\n        e.preventDefault();\r\n        \r\n        const newUser = { firstName, lastName, email, password, confirmPassword, maintenance };\r\n\r\n        axios.post(\"http://localhost:8000/api/users/new\", newUser,{ withCredentials: true })\r\n        .then((res)=>{\r\n            console.log(res);\r\n\r\n            setFirstName('');\r\n            setLastName('');\r\n            setEmail('');\r\n            setPassword('');\r\n            setConfirmPassword('');\r\n            setMaintenance('');\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err);\r\n            setErrors(err.response.data.errors);\r\n\r\n        });\r\n    };\r\n    return (\r\n        <fieldset>\r\n            <legend>Sign Up</legend>\r\n\r\n            <form onSubmit={register}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"firstName\">First Name:</label>\r\n                    <input type=\"text\" name='firstName' onChange={(e)=> setFirstName(e.target.value)} value={firstName}/>\r\n                    {\r\n                        errors?.firstName && (\r\n                        <span className=\"error-message\">{errors.firstName?.message}</span>\r\n                        )}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"lastName\">Last Name:</label>\r\n                    <input type=\"text\" name='lastName' onChange={(e)=> setLastName(e.target.value)} value={lastName}/>\r\n                    {\r\n                        errors?.lastName && (\r\n                        <span className=\"error-message\">{errors.lastName?.message}</span>\r\n                        )\r\n                    }\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email:</label>\r\n                    <input type=\"text\" name='email' onChange={(e)=> setEmail(e.target.value)} value={email}/>\r\n                    {\r\n                        errors?.email && (\r\n                        <span className=\"error-message\">{errors.email?.message}</span>\r\n                        )\r\n                    }\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password:</label>\r\n                    <input type=\"password\" name='password' onChange={(e)=> setPassword(e.target.value)} value={password}/>\r\n                    {\r\n                        errors?.password && (\r\n                        <span className=\"error-message\">{errors.password?.message}</span>\r\n                        )\r\n                    }\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"confirmPassword\">Confirm Password:</label>\r\n                    <input type=\"password\" name='confirmPassword' onChange={(e)=> setConfirmPassword(e.target.value)} value={confirmPassword}/>\r\n                    {\r\n                        errors?.confirmPassword && (\r\n                        <span className=\"error-message\">{errors.confirmPassword?.message}</span>\r\n                        )\r\n                    }\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"maintenance\">Maintenance?</label>\r\n                    <select name=\"maintenance\" onChange={(e)=> setMaintenance(e.target.value)} value={maintenance} >\r\n                        <option value={true}>Yes</option>\r\n                        <option value={false}>No</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"submit\" value=\"Sign Up\" className=\"btn btn-success\" />\r\n                </div>\r\n            </form>\r\n        </fieldset>\r\n    )\r\n}\r\nexport default SignUp;","import React from \"react\";\r\nimport SignIn from \"../components/SignIn\";\r\nimport SignUp from \"../components/SignUp\";\r\n\r\nconst LogReg = ({ setLoggedIn }) => {\r\n    return (\r\n    <div className=\"container\">\r\n        <div className=\"row\">\r\n            <div className=\"col-6\">\r\n                <SignIn setLoggedIn={setLoggedIn} />\r\n            </div>\r\n            <div className=\"col-6\">\r\n                <SignUp setLoggedIn={setLoggedIn} />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default LogReg;","import React, { useState, useEffect } from \"react\";\r\nimport { navigate } from \"@reach/router\";\r\nimport axios from \"axios\";\r\n\r\nconst UserList = (props) => {\r\n    const [users, setUsers] = useState([]);\r\n\r\n    const getLoggedInUser = () => {\r\n    axios\r\n        .get(\"http://localhost:8000/api/users/loggedin\", {\r\n        withCredentials: true,\r\n        })\r\n        .then((res) => console.log(res))\r\n        .catch(console.log);\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios\r\n        .get(\"http://localhost:8000/api/users\", {\r\n        withCredentials: true,\r\n        })\r\n        .then((res) => {\r\n            setUsers(res.data);\r\n            console.log(res);\r\n            })\r\n        .catch((err) => {\r\n            console.log(\"not authorized\");\r\n            console.log(err.response);\r\n            navigate(\"/\");\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container\">\r\n        <h3>All Users:</h3>\r\n        <button onClick={() => getLoggedInUser}>Get Logged In User</button>\r\n        <table>\r\n        <tbody>\r\n            <tr>\r\n            <th>First Name</th>\r\n            <th>Email</th>\r\n            <th>Created On</th>\r\n            </tr>\r\n            {users.map((user) => (\r\n            <tr key={user._id}>\r\n                <td>{user.firstName}</td>\r\n                <td>{user.email}</td>\r\n                <td>{user.createdAt}</td>\r\n            </tr>\r\n            ))}\r\n        </tbody>\r\n        </table>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default UserList;","import React, { useState, useEffect }from 'react';\r\nimport { navigate } from '@reach/router';\r\nimport axios from 'axios';\r\n\r\nconst ApartmentForm = props => {\r\n    const [ apartments, setApartments ] =useState([]);\r\n    const [user, setUser] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n    })\r\n    const [selectedApartment ,setSelectedApartment ] = useState({\r\n        _id:''\r\n    })\r\n\r\n    useEffect(()=>{\r\n        axios.get(\"http://localhost:8000/api/apartments\")\r\n        .then(response=>{ \r\n            let availableApartments = response.data.filter(item => item.tenants === \"\")\r\n            setApartments(availableApartments)\r\n            console.log(response.data._id);\r\n        })\r\n        .catch(err=>console.log(err));\r\n        axios.get(`http://localhost:8000/api/users/loggedin`, {withCredentials: true})\r\n            .then(res => {\r\n                let user = res.data;\r\n                setUser(user)\r\n                console.log(user)\r\n            })\r\n            .catch(err => console.log(err));\r\n    },[])\r\n\r\n    const changeHandler = e => {\r\n        setSelectedApartment({\r\n            _id:e.target.value\r\n        })\r\n    }\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        console.log(e.target.apartments);\r\n        axios.patch(`http://localhost:8000/api/apartments/${selectedApartment._id}/tenants/new`, {tenants:user._id})\r\n        .then(response=> {\r\n            if(response.data.message === \"success\"){\r\n                \r\n                \r\n            } else {\r\n                console.log(response.data);\r\n\r\n            }\r\n        })\r\n        .catch(err=>console.log(err));\r\n        navigate('/calendar');\r\n    }\r\n\r\n    return(\r\n        \r\n        <form onSubmit={submitHandler}>\r\n            <legend className=\"offset-1\">Claim your apartment for ability to request repairs and reserve common areas</legend>\r\n                <div className=\"row form-group offset-3\">\r\n                    <label htmlFor=\"apartments\">Apartment :</label>\r\n                    <select name=\"apartments\" onChange={changeHandler}  >\r\n                        <option>Select your apartment</option>\r\n                        {\r\n                            apartments\r\n                            .sort((a,b)=>(a.name > b.name)? 1:-1)\r\n                            .map((item,i)=> <option value={item._id} key={i}>{item.name}</option>)\r\n                        }\r\n                    </select>\r\n                </div>\r\n                <div className=\"row form- offset-4\">\r\n                    <input type=\"submit\" value=\"Add User as Tenant\" className=\"btn btn-primary\"/>\r\n                </div>\r\n        </form>\r\n    )\r\n}\r\nexport default ApartmentForm;","import React from \"react\";\r\nimport { InlineWidget } from \"react-calendly\";\r\nconst Calendar = props => {\r\n    return(\r\n        <div className=\"container\">\r\n            <div className=\"row offset-4\">\r\n                <h2>Book an Area</h2>\r\n            </div>\r\n            <div id =\"calendar_container\">\r\n                <InlineWidget url=\"https://calendly.com/apartmentconnect\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Calendar;","import React from 'react'\r\n\r\nconst RepairForm = props => {\r\n    const { repair, errors, changeHandler, submitHandler, checkBoxHandler, action } = props;\r\n    return (\r\n        <form onSubmit={submitHandler}>\r\n            <div className=\"row form-group\">\r\n                {\r\n                    errors.name ?\r\n                    <span className=\"col-sm-8 offset-sm-4 text-danger\">{errors.name}</span>\r\n                    : ''\r\n                }\r\n                    <label htmlFor=\"details\" className=\"col-sm-4\">What needs to be fixed? </label>\r\n                    <input type=\"text\" name=\"details\" className=\"col-sm-8 form-control\" onChange={changeHandler} value={repair.details}/>\r\n                </div>\r\n                <div className=\"row\">\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"location\" className=\"col-sm-6 offset-sm-2\">Where is the problem located?\r\n                    <select name=\"location\" onChange={changeHandler} value={repair.location}>\r\n                        <option value=\"Kitchen\">Kitchen</option>\r\n                        <option value=\"Living Room\">Living Room</option>\r\n                        <option value=\"Bath Room\">Bath Room</option>\r\n                        <option value=\"Bed Room 1\">Bed Room 1</option>\r\n                        <option value=\"Bed Room 2\">Bed Room 2</option>\r\n                    </select>\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"urgency\" className=\"col-sm-6 offset-sm-2\">How urgent is this? \r\n                    <select name=\"urgency\" onChange={changeHandler} value={repair.urgency}>\r\n                        <option value={1}>Anytime is fine</option>\r\n                        <option value={2}>Today would be good</option>\r\n                        <option value={3}>Stuff is on fire!!!</option>\r\n                    </select>\r\n                    </label>\r\n            </div>\r\n            </div>\r\n            {/* <div className=\"form-group\">\r\n                <label htmlFor=\"status\" className=\"col-sm-4\">Repair Complete:</label>\r\n                <input type=\"checkbox\" name=\"status\" className=\"col-sm-8 form-control\" checked={repair.status} onChange={checkBoxHandler} value={repair.status}/>\r\n            </div> */}\r\n            <div className=\"row form-group\">\r\n                <input type=\"submit\" value={action} className=\"col-sm-4 offset-sm-4 btn btn-primary\"/>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default RepairForm","import React, { useState , useEffect} from 'react'\r\nimport { navigate } from '@reach/router';\r\nimport RepairForm from '../components/RepairForm';\r\nimport axios from 'axios';\r\n\r\nconst NewRepair = props => {\r\n    const [repair, setRepair] = useState({\r\n        location: \"\",\r\n        details: \"\",\r\n        urgency: \"\",\r\n    });\r\n    const [errors, setErrors] = useState({\r\n        name: \"\"\r\n    })\r\n    const [user, setUser] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n    })\r\n    useEffect(() => {\r\n        let testUser;\r\n        console.log('running use effect');\r\n        axios.get(`http://localhost:8000/api/users/loggedin`, {withCredentials: true})\r\n            .then(res => {\r\n                console.log('first then');\r\n                setUser(res.data)\r\n                testUser = res.data;\r\n                console.log(`User Object ${JSON.stringify(testUser)}`)\r\n                console.log(`User ID: ${testUser._id}`)\r\n\r\n                return axios.get(`http://localhost:8000/api/getapt/${res.data._id}`, {withCredentials: true})\r\n            })\r\n            .then(resp => {\r\n                console.log('res');\r\n                console.log(resp);\r\n                if (resp.data[0].name ){\r\n                    setUser((currentUser) => ({ ...currentUser, \r\n                        \"apartment\": resp.data[0].name,\r\n                        \"apartmentId\": resp.data[0]._id \r\n                    }));\r\n                }\r\n                // console.log(`User inside nested callback: ${JSON.stringify(user)}`)\r\n                // console.log(`response data in second useEffect: ${JSON.stringify(res.data[0]._id)}`)\r\n                // console.log(`The user is now equal to ${JSON.stringify(user)}`)\r\n            })\r\n            .catch(err => console.log(err));\r\n        // const getUsersAndApartment = async () => {\r\n        //     try {\r\n        //         const res = await fetch('http://localhost:8000/api/users/loggedin', {\r\n        //             method: 'GET',\r\n        //             headers: {\r\n        //                 'Content-Type': 'application/json',\r\n        //             },\r\n        //             credentials: \"same-origin\"\r\n        //         });\r\n\r\n        //         console.log('res');\r\n        //         console.log(res);\r\n\r\n        //         const user = res.data;\r\n\r\n        //         const response = fetch(`http://localhost:8000/api/getapt/${user._id}`, {\r\n        //             method: 'GET',\r\n        //             headers: {\r\n        //                 'Content-Type': 'application/json',\r\n        //             },\r\n        //             credentials: \"same-origin\"\r\n        //         });\r\n\r\n        //         console.log('response');\r\n        //         console.log(response);\r\n\r\n        //         setUser({ ...user, apartment: response.data[0]._id });\r\n\r\n\r\n        //     } catch (err) {\r\n        //         console.log(err);\r\n        //     }\r\n        // }\r\n\r\n        // getUsersAndApartment()\r\n    }, [])\r\n\r\n\r\n    const checkBoxHandler = (event) => {\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const string_value = value.toString()\r\n        const name = target.name;\r\n    \r\n        setRepair({\r\n            ...repair,\r\n            [name]: string_value\r\n        });\r\n    }\r\n    \r\n\r\n    const changeHandler = e => {\r\n        setRepair({\r\n            ...repair,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const submitHandler = e => {\r\n        console.log(\"inside submitHandler\");\r\n        console.log(`repair: ${JSON.stringify(repair)}`)\r\n        console.log(`Apartment ID: ${user.apartmentId}`)\r\n        e.preventDefault();\r\n        axios.patch(`http://localhost:8000/api/apartments/${user.apartmentId}/repair/new`, repair)\r\n            .then(response => {\r\n                if(response.data.message == \"error\" ) {\r\n                    setErrors({name : response.data.message}); \r\n                } else {\r\n                    navigate(\"/dashboard\");\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n\r\n    \r\n    return (\r\n        <div>\r\n                <div className=\"col-sm-8 offset-3\">\r\n            <h2>Hello  {user.firstName}  {user.apartmentId ? <span>Apartment: {user.apartment}</span>: \"\"}</h2>\r\n                    <h1 className=\"offset-sm-1\">Repair Request</h1>\r\n                </div>\r\n            <div className=\"container offset-1\">\r\n            \r\n            <br/>\r\n            <div className=\"row\">\r\n                {\r\n                    user.apartment ?\r\n                    <RepairForm \r\n                    changeHandler={ changeHandler }\r\n                    submitHandler={ submitHandler }\r\n                    checkBoxHandler={checkBoxHandler}\r\n                    repair={ repair }\r\n                    errors={ errors }\r\n                    action=\"Create a Repair Request\"\r\n                    />:\r\n                    (\r\n                        <div className=\"offset-2\">    \r\n                            <p>Please add an apartment before requesting a repair.</p>\r\n                            <button className=\"btn btn-primary offset-4\" onClick={() => navigate('/connect')}>Add Apartment</button>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n            \r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewRepair\r\n","import React, { useState , useEffect} from 'react'\r\nimport { navigate } from '@reach/router';\r\nimport axios from 'axios';\r\n\r\nconst RepairList = props => {\r\n    const [repairList, setRepairList] = useState([]);\r\n\r\n    const [errors, setErrors] = useState({\r\n        name: \"\"\r\n    })\r\n    const [user, setUser] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n    })\r\n    useEffect(() => {\r\n        let testUser;\r\n        console.log('running use effect');\r\n        axios.get(`http://localhost:8000/api/users/loggedin`, {withCredentials: true})\r\n            .then(res => {\r\n                console.log('first then');\r\n                setUser(res.data)\r\n                testUser = res.data;\r\n                console.log(`User Object ${JSON.stringify(testUser)}`)\r\n                console.log(`User ID: ${testUser._id}`)\r\n                return axios.get(`http://localhost:8000/api/getapt/${res.data._id}`, {withCredentials: true})\r\n            })\r\n            .then(resp => {\r\n                console.log('second then');\r\n                console.log('resp');\r\n                console.log(resp);\r\n                if (resp.data[0].name ){\r\n                    setUser((currentUser) => ({ ...currentUser, \r\n                        \"apartment\": resp.data[0].name,\r\n                        \"apartmentId\": resp.data[0]._id \r\n                    }));\r\n                }\r\n                return  axios.get(`http://localhost:8000/api/apartments/${resp.data[0]._id}`, {withCredentials: true})\r\n            }).then(response => {\r\n                console.log('Third then');\r\n                console.log('response.data.repairs ');\r\n                console.log(response.data.repairs);\r\n                setRepairList(response.data.repairs);\r\n                // alert(repairList);\r\n\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, [])\r\n\r\n    \r\n    return (\r\n        <div>\r\n            <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-sm-8\">\r\n                    <h1>Repair List for Apartment {user.apartment} </h1>\r\n                </div>\r\n            </div>\r\n            <br/>\r\n            <div >\r\n                {\r\n                    user.apartment ?\r\n                    (\r\n                    <> \r\n                    {repairList.map((item, i) => \r\n                        <div key={i} className=\"col-10\" >\r\n                            <div className=\"card\" >\r\n                                <ul class=\"list-group list-group-flush\">\r\n                                    <li class=\"list-group-item bg-dark text-danger\">{item.details}</li>\r\n                                    <li class=\"list-group-item bg-dark\">{item.location}</li>\r\n                                    <li class=\"list-group-item bg-dark\">{item.urgency}</li>\r\n                                    <li class=\"list-group-item bg-dark \">Completed? {item.status === true ? <span className=\"text-success\">Yes</span>:<span className=\"text-danger\">No</span>}</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    </>\r\n                    )\r\n                    :\r\n                    (\r\n                        <div>    \r\n                            <p>Please add an apartment to view repairs.</p>\r\n                            <button className=\"btn btn-primary\" onClick={() => navigate('/connect')}>Add Apartment</button>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RepairList\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Calendar from './calendar';\r\nimport NewRepair from './NewRepair';\r\nimport RepairList from './RepairList';\r\nimport {navigate, Link} from '@reach/router';\r\nimport {mergeSortArrObj} from '@hdanks/mern-library';\r\n\r\n\r\nconst UserDashboard = ({logout}) => {\r\n    const [user, setUser] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        maintenance: ''\r\n    })\r\n    const [userApt, setUserApt] = useState({\r\n\r\n    })\r\n    const [requestType, setRequestType] = useState(\"\")\r\n\r\n    const request = type => {\r\n        setRequestType(type)\r\n    }\r\n\r\n    const [repairsList, setRepairsList] = useState([])\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/users/loggedin`, {withCredentials: true})\r\n            .then(res => {\r\n                let user = res.data;\r\n                setUser(user)\r\n                console.log(user)\r\n                if(res.data.maintenance) {\r\n                    console.log(\"I'm a maintenance worker, give me all apts.\")\r\n                    return (axios.get(\"http://localhost:8000/api/apartments\", {withCredentials: true}))\r\n                } else {\r\n                    console.log(\"just give me my apt\")\r\n                    return axios.get(`http://localhost:8000/api/getapt/${res.data._id}`, {withCredentials: true})\r\n                }\r\n            })\r\n            .then(response => {\r\n                console.log(\"response: \", response.data)\r\n                if (response.data[0]){\r\n                    let sortedRepairs = mergeSortArrObj(response.data[0].repairs.filter(repair => repair.status === false), \"urgency\").reverse()\r\n                    console.log(\"sorted Repairs: \", sortedRepairs)\r\n                    setUserApt({\r\n                        ...response.data[0],\r\n                        \"repairs\": sortedRepairs\r\n                    })\r\n                }\r\n                // let aptList= response.data.map((item, i) => item)\r\n                // for(let apt = 0; apt < aptList.length; apt++){\r\n                //     let aptRepairList = apt.repairs.map((item, i) => item)\r\n                //     for(let repair = 0; repair < aptRepairList.length; repair++){\r\n                //         setRepairsList([...repairsList, aptRepairList[repair]])\r\n                //     }\r\n                // }\r\n            })\r\n            .catch(err => {\r\n                console.log(\"not authorized\");\r\n                console.log(\"error\" ,err);\r\n                navigate(\"/\");\r\n                logout()\r\n            });\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row offset-sm-3\">\r\n            <h2>Welcome {user.firstName}</h2>\r\n            </div>\r\n            <div className=\"row \">\r\n                <div className=\"col-4\">\r\n                <button className=\"btn btn-primary \" onClick={() => request(\"repair\") }>Repairs</button>\r\n                </div>\r\n\r\n                <div className=\"col-4\">\r\n                <button className=\"btn btn-primary \" onClick={() => request(\"listrepairs\") }>List Repairs</button>\r\n                </div>\r\n\r\n                <div className=\"col-4\">\r\n                <button className=\"btn btn-primary\" onClick={() => request(\"reserve\")}>Reserve a Time</button>\r\n                </div>\r\n            </div>\r\n            <br/>\r\n            \r\n            {\r\n                requestType === \"repair\" ?\r\n                <NewRepair user={user} setUser={setUser} />\r\n                :\r\n                requestType === \"listrepairs\" ?\r\n                <RepairList user={user} setUser={setUser} />\r\n                :\r\n                requestType === \"reserve\" ?\r\n                <Calendar />:\r\n                \"\"\r\n            }\r\n            <div className=\"row\">\r\n            {\r\n                user.maintenance ?\r\n                <Link className=\"btn btn-primary offset-4\" to=\"/maintenance\">Maintenance Portal</Link>:\r\n                \"\"\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserDashboard\r\n","import { mergeSortArrObj } from '@hdanks/mern-library'\r\nimport axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\n\r\n\r\nconst RepairsMaintenance = props => {\r\n    const [apartments, setApartments] = useState([])\r\n\r\n    const fixed = (id, i) => {\r\n        axios.patch(`http://localhost:8000/api/apartments/${id}/repair/update`, {\"status\": true}, {withCredentials: true})\r\n            .then(res => {\r\n                if(res.data.message === \"success\"){\r\n                    document.getElementById(i).parentNode.removeChild(document.getElementById(i))\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/apartments`, {withCredentials: true})\r\n            .then(res => {\r\n                setApartments(res.data)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [])\r\n    return (\r\n        <div>\r\n            <h1 className=\"offset-3\">Maintenance Portal</h1>\r\n            <br/>\r\n            {\r\n                apartments.map(apartment => apartment.repairs.map((repair, i) => {\r\n                    if (!repair.status){\r\n\r\n                        return (\r\n                            <div >\r\n                                <ul key={i} id={i} class=\"list-group\">\r\n                                    <li class=\"list-group-item bg-dark\"><h3>Repair: {repair.details}</h3></li>\r\n                                    <li class=\"list-group-item bg-dark\">Location: {repair.location} of apartment {apartment.name} </li>\r\n                                    <li class=\"list-group-item bg-dark\">Completed? {JSON.stringify(repair.status)}</li>\r\n                                    <li class=\"list-group-item bg-dark\"><button className=\"btn btn-primary\" onClick={() => fixed(repair._id, i)}>Mark as fixed</button></li>\r\n                                </ul>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RepairsMaintenance\r\n","import React, { useState, useEffect } from 'react';\r\nimport { navigate, Router} from '@reach/router';\r\nimport './App.css';\r\nimport Nav from './components/Nav';\r\nimport LogReg from './views/LogReg';\r\nimport UserList from './views/UserList';\r\nimport axios from 'axios';\r\nimport ApartmentForm from './components/ApartmentForm';\r\nimport UserDashboard from './views/UserDashboard';\r\nimport NewRepair from './views/NewRepair';\r\nimport Calendar from './views/calendar';\r\nimport RepairList from './views/RepairList';\r\nimport RepairsMaintenance from './views/RepairsMaintenance';\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn ] = useState(JSON.parse(localStorage.getItem(\"loggedIn\")));\r\n\r\n  const logout = () => {\r\n    axios.post('http://localhost:8000/api/logout',{}, { withCredentials: true })\r\n    .then(() => {\r\n      localStorage.setItem(\"loggedIn\", \"false\")\r\n      setIsLoggedIn(false)\r\n    })\r\n    .catch(err => console.log(err));\r\n    navigate('/');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (JSON.parse(localStorage.getItem(\"loggedIn\"))){\r\n      navigate('/dashboard')\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      \r\n      <div className=\"jumbotron-dark\">\r\n        <h1 className=\"offset-3\">Apartment Connect</h1>\r\n        {JSON.parse(localStorage.getItem(\"loggedIn\")) && <Nav logout={logout} />}\r\n      \r\n      </div>\r\n      \r\n      <Router>\r\n        <LogReg setLoggedIn={()=> setIsLoggedIn(true)} path=\"/\" />\r\n        <UserList path=\"/users\" />\r\n        <UserDashboard logout={logout} path=\"/dashboard\" />\r\n        <ApartmentForm path='/connect' />\r\n        <NewRepair path=\"/newrepair\" />\r\n        <Calendar path=\"/calendar\" />\r\n        <RepairList path=\"/repairlist\" />\r\n        <RepairsMaintenance path=\"/maintenance\" />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}